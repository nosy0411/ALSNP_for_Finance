#----------------------------------------------------------------------------
# Prefix and Output target
#----------------------------------------------------------------------------
PREFIX_DIR  = ../..
OBJ_DIR = .obj/

OUT		= mmap_ex1 \
			mmap_ran \
			mmap_ran2 \
			mmap_hugepage \
			mmap_hugetlbfs

include $(PREFIX_DIR)/common_opt.mk
#----------------------------------------------------------------------------
# Default target.
#----------------------------------------------------------------------------

all: $(OUT)
	$(MAKE) -C xsi_sysv
	$(MAKE) -C posix

#----------------------------------------------------------------------------
# Suffix rules
#----------------------------------------------------------------------------
include $(PREFIX_DIR)/common_rule.mk

#----------------------------------------------------------------------------
# Build binaries
#----------------------------------------------------------------------------


#----------------------------------------------------------------------------
# others
#----------------------------------------------------------------------------
clean:
	rm -f *.o core core.* *.dat $(DEPENDENCY) $(OUT)
	$(MAKE) clean -C xsi_sysv
	$(MAKE) clean -C posix

-include $(DEPENDENCY)
