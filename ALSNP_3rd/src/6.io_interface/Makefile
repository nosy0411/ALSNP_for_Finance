#----------------------------------------------------------------------------
# Prefix and Output target
#----------------------------------------------------------------------------
PREFIX_DIR	= ../..

OUT		= fifo_read \
			fifo_write \
			fifo_write_sigpipe \
			popen_ex1 \
			popen_ex2

include $(PREFIX_DIR)/common_opt.mk

#----------------------------------------------------------------------------
# Default target.
#----------------------------------------------------------------------------
.PHONY: all clean dep

all: $(OUT)
	$(MAKE) -C socket 
	$(MAKE) -C sockopt

#----------------------------------------------------------------------------
# Suffix rules
#----------------------------------------------------------------------------
include $(PREFIX_DIR)/common_rule.mk

#----------------------------------------------------------------------------
# Build binaries
#----------------------------------------------------------------------------


#----------------------------------------------------------------------------
# others
#----------------------------------------------------------------------------
clean:
	rm -f *.o core core.* $(DEPENDENCY) $(OUT)
	$(MAKE) clean -C socket 
	$(MAKE) clean -C sockopt

-include $(DEPENDENCY)
