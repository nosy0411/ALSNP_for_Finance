#----------------------------------------------------------------------------
# Prefix and Output target
#----------------------------------------------------------------------------
PREFIX_DIR	= ../..

OUT		= sig_basic \
		  sig_siginfo \
		  sig_nodefer \
		  sig_nocldstop \
		  sig_waitid \
		  sig_pgid \
		  sig_pending \
		  pthread_sigwait \
		  segv_sigaltstack

include $(PREFIX_DIR)/common_opt.mk
LDLIBS	+= -lrt -lpthread
#----------------------------------------------------------------------------
# Default target.
#----------------------------------------------------------------------------
.PHONY: all clean dep
all: $(OUT)

#----------------------------------------------------------------------------
# Suffix rules
#----------------------------------------------------------------------------
include $(PREFIX_DIR)/common_rule.mk
#----------------------------------------------------------------------------
# Build binaries
#----------------------------------------------------------------------------
sig_nodefer : sig_basic.c
	$(CC) -DWITH_SA_NODEFER $(CFLAGS) $^ -o $@

#----------------------------------------------------------------------------
# others
#----------------------------------------------------------------------------
include $(PREFIX_DIR)/common_target.mk
