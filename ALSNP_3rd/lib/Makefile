#----------------------------------------------------------------------------
# Destination for binaries and class libraries
#----------------------------------------------------------------------------
PREFIX_DIR	= ..

OUT 	= libstdalsp.a

#----------------------------------------------------------------------------
# Compiler and linker options.
#----------------------------------------------------------------------------

CC		= gcc
CFLAGS 	= -Wall -g

CPPFLAGS= -I$(PREFIX_DIR)/include -D_REENTRANT
LOADLIBES= -L$(PREFIX_DIR)/lib
LDLIBS 	= -lrt

#----------------------------------------------------------------------------
# user defined macros
#----------------------------------------------------------------------------

LIB_SRC_STDALSP = $(wildcard *.c)
LIB_OBJ_STDALSP = $(patsubst %.c,%.o, $(LIB_SRC_STDALSP))

#----------------------------------------------------------------------------
# Default target.
#----------------------------------------------------------------------------
.PHONY: all clean dep

all : $(OUT)
	@echo "Make: $(OUT)"

clean:
	-@rm $(OUT) *.o

#----------------------------------------------------------------------------
# Suffix rules
#----------------------------------------------------------------------------

#.SUFFIXES:
#.SUFFIXES: .c .o .h .a
.PRECIOUS: .o

#----------------------------------------------------------------------------
# Static pattern rule
#----------------------------------------------------------------------------

#----------------------------------------------------------------------------
# Build binaries
#----------------------------------------------------------------------------

libstdalsp.a: $(LIB_OBJ_STDALSP)
	$(AR) -ruv $@ $^

#----------------------------------------------------------------------------
